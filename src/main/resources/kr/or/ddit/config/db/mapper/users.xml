<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="users">
	
	<!-- 일반회원 정보 등록 -->
	<insert id="insert_users" parameterType="usersVo">
		insert into users
		values(
			#{user_id},
			#{user_name},
			nvl(#{bg_img, jdbcType=VARCHAR}, null),
			nvl(#{bg_path, jdbcType=VARCHAR}, null),
			nvl(#{profile_img, jdbcType=VARCHAR}, null),
			nvl(#{profile_path, jdbcType=VARCHAR}, null),
			nvl(#{addr1, jdbcType=VARCHAR}, null),
			nvl(#{addr2, jdbcType=VARCHAR}, null),
			nvl(#{zipcode, jdbcType=VARCHAR}, null),
			#{email},
			#{telno},
			#{user_birth},
			nvl(#{persnal_url, jdbcType=VARCHAR}, null)
			nvl(#{profile_contents, jdbcType=VARCHAR}, null)
		)
	</insert>
	
	<!-- 전체회원 조회 -->
	<select id="select_allUsers" resultType="usersVo">
		select user_id, user_name, bg_img, bg_path, profile_img, profile_path, addr1, addr2, zipcode, email, telno, user_birth, persnal_url, profile_contents
		  from users
	</select>
	
	<!-- 회원정보 조회 -->
	<select id="select_userInfo" parameterType="String" resultType="usersVo">
		select user_id, user_name, bg_img, bg_path, profile_img, profile_path, addr1, addr2, zipcode, email, telno, user_birth, persnal_url, profile_contents
		  from users
		 where user_id = #{user_id}
	</select>
	
	<!-- 회원정보 수정 -->
	<update id="update_userInfo" parameterType="usersVo">
		update users
		   set user_name 	= #{user_name},
		       bg_img	 	= #{bg_img},
		       bg_path	 	= #{bg_path},
		       profile_img  = #{profile_img},
		       profile_path	= #{profile_path},
		       addr1		= #{addr1},
		       addr2		= #{addr2},
		       zipcode		= #{zipcode},
		       email		= #{email},
		       telno		= #{telno},
		       persnal_url	= #{persnal_url}
		       profile_contents = #{profile_contents}
		 where user_id = #{user_id}  
	</update>
	
</mapper>