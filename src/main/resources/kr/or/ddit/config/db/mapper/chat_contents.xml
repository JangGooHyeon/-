<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="chat_contents">
	
	<!-- 채팅 내용 등록  -->
	<insert id="insert_chatcontets" parameterType="chat_contentsVo">
		insert into chat_contents
             values(content_code_seq.nextval,#{chat_code},#{mem_id},#{chat_content},'N',sysdate)
	</insert>
	
	<!-- 선턱한 채팅방 조회  -->
	<select id="select_chatContents" parameterType="String" resultType="chat_contentsVo">
		select a.profile_path, b.content_code, b.chat_code, b.mem_id, b.chat_content, b.read_status, b.write_date
          from users a, chat_contents b
         where a.user_id = b.mem_id
           and b.chat_code = #{chat_code}
         order by b.write_date asc
	</select>
</mapper> 